<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>homework11</title>
    <body>
        <script>
            getSum = (a, b) => a + b;

            function makeCaching(f) {
                const cache = [];

                console.log(cache);

                return function(...args) {
                    const newItem = {
                    arguments: args,
                    result: f(...args)
                    }

                    isCorrect = (value, index) =>  value === args[index];

                    const argumentsCheck = cache.find(i => i.arguments.every(isCorrect));

                    if (argumentsCheck) {
                        return argumentsCheck.result;
                    }

                    if (cache.length >= 10) {
                        cache.splice(0, 1);
                        cache.push(newItem);
                        return newItem.result;
                    }

                    cache.push(newItem);
                    return newItem.result;
                };
            }

            getSum = makeCaching(getSum);
            console.log(getSum(1, 1));
            console.log(getSum(1, 2));
            console.log(getSum(1, 3));
            console.log(getSum(1, 4));
            console.log(getSum(1, 4));
            console.log(getSum(1, 4));
            console.log(getSum(2, 1));
            console.log(getSum(2, 2));
            console.log(getSum(2, 2));
            console.log(getSum(3, 1));
            console.log(getSum(3, 2));
            console.log(getSum(3, 3));
            console.log(getSum(3, 4));
            console.log(getSum(3, 5));
            console.log(getSum(3, 7));
            console.log(getSum(3, 7));
        </script>
    </body>
</head>